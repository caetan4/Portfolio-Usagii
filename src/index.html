<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Pagina de Usagii - Arte Digital</title>
    <meta name="description" content="Pagina de arte digital, ilustraciones, animaciones y diseños" />
    <!-- Favicon -->
    <link rel="icon" href="assets/pixels.svg" type="image/svg+xml" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/stickers.css" rel="stylesheet" />
    <!-- Precargar fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body class="font-['Poppins'] text-gray-900" style="background-color: #ede9cc;">
    <!-- Header con stickers 3D -->
    <header class="relative overflow-hidden" style="background-color: #1017e8; height: 120px;">
        <!-- El contenido será reemplazado por el script header-stickers-simple.js -->

        <!-- Menú hamburguesa - visible solo en móvil -->
        <div class="absolute top-4 right-4 z-30">
            <button
                class="flex flex-col justify-center items-center space-y-1.5 p-2 rounded-full shadow-md hover:shadow-lg transform hover:scale-110 transition-all duration-300"
                id="menu-button"
                aria-label="Menú"
                style="background-color: #ede9cc"
            >
                <span class="block w-6 h-0.5 bg-red-600 transition-all"></span>
                <span class="block w-6 h-0.5 bg-red-600 transition-all"></span>
                <span class="block w-6 h-0.5 bg-red-600 transition-all"></span>
            </button>
        </div>

        <!-- Menú móvil - oculto por defecto -->
        <div
            id="mobile-menu"
            class="fixed inset-0 bg-white z-50 overflow-y-auto transform translate-x-full transition-transform duration-300"
        >
            <div class="flex justify-between items-center p-4">
                <div>
                    <h2 class="text-xl font-semibold">Menu</h2>
                    <p class="text-sm text-gray-700 mt-1">Que quieres ver?</p>
                </div>
                <button id="close-menu" class="text-4xl">&times;</button>
            </div>
            <div
                class="flex flex-col gap-y-4 p-4 m-0 h-full overflow-y-auto md:grid md:grid-cols-3 lg:grid-cols-3 gap-1 w-full"
                style="padding-right: 1rem;"
            >
                <a
                    href="index.html"
                    class="relative block overflow-hidden rounded-lg shadow group w-full h-40 md:aspect-[3/2]"
                >
                    <div
                        class="absolute inset-0 bg-cover bg-center transform group-hover:scale-110 transition duration-300"
                        style="background-image: url('assets/images/usa.svg')"
                    ></div>
                    <div
                        class="absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-30 transition"
                    >
                        <span class="text-blue-600 text-lg font-bungee"></span>
                    </div>
                </a>
                <a
                    href="views/stickers.html"
                    class="relative block overflow-hidden rounded-lg shadow group w-full h-40 md:aspect-[3/2]"
                >
                    <div
                        class="absolute inset-0 bg-cover bg-center transform group-hover:scale-110 transition duration-300"
                        style="background-image: url('assets/gifs/gifstikers.gif')"
                    ></div>
                    <div
                        class="absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-30 transition"
                    >
                        <span class="text-blue-600 text-lg font-bungee">Stickers / Prints</span>
                    </div>
                </a>
                <a
                    href="views/ilustraciones.html"
                    class="relative block overflow-hidden rounded-lg shadow group w-full h-40 md:aspect-[3/2]"
                >
                    <div
                        class="absolute inset-0 bg-cover bg-center transform group-hover:scale-110 transition duration-300"
                        style="background-image: url('assets/ilustraciones/IMG_0393.jpg')"
                    ></div>
                    <div
                        class="absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-30 transition"
                    >
                        <span class= "text-blue-600 text-lg font-bungee">Ilustraciones</span>
                    </div>
                </a>
                <a
                    href="views/animaciones.html"
                    class="relative block overflow-hidden rounded-lg shadow group w-full h-40 md:aspect-[3/2]"
                >
                    <div
                        class="absolute inset-0 bg-cover bg-center transform group-hover:scale-110 transition duration-300"
                        style="background-image: url('assets/gifs/pendulo_Caetana.gif')"
                    ></div>
                    <div
                        class="absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-30 transition"
                    >
                        <span class="text-blue-600 text-lg font-bungee">Animaciones</span>
                    </div>
                </a>
                <a
                    href="views/bocetos.html"
                    class="relative block overflow-hidden rounded-lg shadow group w-full h-40 md:aspect-[3/2]"
                >
                    <div
                        class="absolute inset-0 bg-cover bg-center transform group-hover:scale-110 transition duration-300"
                       style="background-image:url('../assets/bocetos/IMG_5408.jpg')"
                    ></div>
                    <div
                        class="absolute inset-0 z-10 flex items-center justify-center bg-black bg-opacity-20 group-hover:bg-opacity-30 transition"
                    >
                        <span class="text-blue-600 text-lg font-bungee">Bocetos</span>
                    </div>
                </a>
            </div>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="flex flex-col min-h-screen">
        <!-- Sección del logo con fondo beige -->
        <section class="py-8 flex flex-col items-center justify-center" style="background-color: #ede9cc;">
            <!-- Logo central -->
            <div class="w-64 md:w-80 lg:w-96 mb-8 mx-auto">
                <img src="assets/images/usa.svg" alt="Usagii Logo"  fill="#2563eb" class="w-full h-auto" />
                <!-- Botones de redes sociales -->
                <div class="flex justify-center space-x-4 mt-4">
                    <!-- Instagram -->
                    <a href="https://www.instagram.com/usagii_x?igsh=ZnFnZnhhOWlwOXVr&utm_source=qr" target="_blank" rel="noopener" class="flex items-center justify-center w-12 h-12 transition-transform hover:scale-110" title="Instagram">
                        <span class="sr-only">Instagram</span>
                        <svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="4" fill="#1877F2"/>
                            <path d="M12 7.5C9.5 7.5 7.5 9.5 7.5 12C7.5 14.5 9.5 16.5 12 16.5C14.5 16.5 16.5 14.5 16.5 12C16.5 9.5 14.5 7.5 12 7.5ZM12 15C10.3 15 9 13.7 9 12C9 10.3 10.3 9 12 9C13.7 9 15 10.3 15 12C15 13.7 13.7 15 12 15Z" fill="white"/>
                            <path d="M17 8C17.5523 8 18 7.55228 18 7C18 6.44772 17.5523 6 17 6C16.4477 6 16 6.44772 16 7C16 7.55228 16.4477 8 17 8Z" fill="white"/>
                            <path d="M14.8 3H9.2C5.8 3 3 5.8 3 9.2V14.8C3 18.2 5.8 21 9.2 21H14.8C18.2 21 21 18.2 21 14.8V9.2C21 5.8 18.2 3 14.8 3ZM19 14.8C19 17.1 17.1 19 14.8 19H9.2C6.9 19 5 17.1 5 14.8V9.2C5 6.9 6.9 5 9.2 5H14.8C17.1 5 19 6.9 19 9.2V14.8Z" fill="white"/>
                        </svg>
                    </a>

                    <!-- Spotify -->
                    <a href="https://open.spotify.com/user/gksue2pi6flhruzbv6s8ui3nc?si=a228b69f8935426c" target="_blank" rel="noopener" class="flex items-center justify-center w-12 h-12 transition-transform hover:scale-110" title="Spotify">
                        <span class="sr-only">Spotify</span>
                        <svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="12" fill="#1DB954"/>
                            <path d="M12 4C7.6 4 4 7.6 4 12C4 16.4 7.6 20 12 20C16.4 20 20 16.4 20 12C20 7.6 16.4 4 12 4ZM15.9 15.5C15.7 15.8 15.3 15.9 15 15.7C13.3 14.7 11.2 14.4 8.7 15C8.4 15.1 8 14.9 7.9 14.6C7.8 14.3 8 13.9 8.3 13.8C11.1 13.2 13.5 13.5 15.4 14.6C15.7 14.7 15.8 15.2 15.9 15.5ZM16.8 13.2C16.6 13.5 16.1 13.7 15.8 13.5C13.8 12.3 11 11.8 8.8 12.5C8.4 12.6 8 12.4 7.9 12C7.8 11.6 8 11.2 8.4 11.1C11 10.4 14.1 10.9 16.4 12.3C16.7 12.4 16.9 12.9 16.8 13.2ZM16.9 10.8C14.5 9.5 10.7 9.3 8.5 10C8 10.2 7.5 9.9 7.3 9.5C7.1 9 7.4 8.5 7.8 8.3C10.5 7.5 14.6 7.7 17.4 9.3C17.8 9.5 18 10.1 17.8 10.5C17.6 10.9 17 11.1 16.9 10.8Z" fill="white"/>
                        </svg>
                    </a>

                    <!-- Email -->
                    <a href="mailto:cprieto@centro.edu.mx" class="flex items-center justify-center w-12 h-12 transition-transform hover:scale-110" title="Email">
                        <span class="sr-only">Email</span>
                        <svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="4" fill="#F4B400"/>
                            <path d="M20 8L12 13L4 8V7L12 12L20 7V8ZM20 6H4C3.4 6 3 6.4 3 7V17C3 17.6 3.4 18 4 18H20C20.6 18 21 17.6 21 17V7C21 6.4 20.6 6 20 6Z" fill="white"/>
                        </svg>
                    </a>

                    <!-- GitHub -->
                    <a href="https://github.com/caetan4" target="_blank" rel="noopener" class="flex items-center justify-center w-12 h-12 transition-transform hover:scale-110" title="GitHub">
                        <span class="sr-only">GitHub</span>
                        <svg class="w-12 h-12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="24" height="24" rx="4" fill="#BD2C00"/>
                            <path d="M12 3C7.0275 3 3 7.0275 3 12C3 15.9825 5.7075 19.3112 9.3712 20.4375C9.8712 20.5275 10.0388 20.2275 10.0388 19.9688C10.0388 19.7362 10.0275 19.1063 10.0275 18.3863C7.5 18.8625 6.855 17.8888 6.6375 17.3775C6.5137 17.1113 6.03 16.275 5.625 16.0425C5.2875 15.8587 4.7875 15.3825 5.6137 15.3712C6.3825 15.36 6.9375 16.0875 7.125 16.365C8.1 17.7638 9.6825 17.4188 10.0725 17.16C10.1625 16.5563 10.4325 16.1513 10.725 15.9188C8.4975 15.6863 6.1725 14.9175 6.1725 11.4188C6.1725 10.3613 6.5475 9.4875 7.1475 8.8125C7.0462 8.5663 6.7087 7.56375 7.245 6.17625C7.245 6.17625 8.1637 5.9175 10.0387 7.2225C10.9612 6.99 11.9362 6.87375 12.9112 6.87375C13.8862 6.87375 14.8612 6.99 15.7837 7.2225C17.6587 5.90625 18.5775 6.17625 18.5775 6.17625C19.1137 7.56375 18.7762 8.5663 18.675 8.8125C19.275 9.4875 19.65 10.35 19.65 11.4188C19.65 14.9288 17.3137 15.6863 15.0862 15.9188C15.45 16.2113 15.7612 16.7738 15.7612 17.6513C15.7612 18.9113 15.75 19.6425 15.75 19.9688C15.75 20.2275 15.9188 20.5388 16.4188 20.4375C18.2474 19.8674 19.8145 18.6928 20.9117 17.1078C22.0088 15.5229 22.5794 13.6124 22.5 11.6675C22.5 7.0275 18.4725 3 12 3Z" fill="white"/>
                        </svg>
                    </a>
                </div>
            </div>

            <!-- Canvas de dibujo interactivo -->
            <section class="flex-grow flex items-center justify-center p-4" style="background-color: #ede9cc;">
                <div class="bg-blue-900 rounded-xl overflow-hidden p-3 w-full max-w-2xl flex flex-col gap-2">
                    <!-- Contenedor del canvas (más rectangular) -->
                    <div class="relative bg-white rounded-lg overflow-hidden flex-grow" style="min-height: 250px; height: 300px;">
                        <!-- Canvas de dibujo -->
                        <canvas id="drawing-canvas" class="w-full h-full bg-white cursor-crosshair"></canvas>

                        <!-- Paleta de colores flotante -->
                        <div
                            class="absolute top-2 left-2 bg-white bg-opacity-90 p-1 rounded-md shadow-md border border-gray-200 flex space-x-1"
                        >
                            <button
                                class="w-5 h-5 rounded-full bg-black border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#000000"
                                title="Negro"
                            ></button>
                            <button
                                class="w-5 h-5 rounded-full bg-red-500 border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#ef4444"
                                title="Rojo"
                            ></button>
                            <button
                                class="w-5 h-5 rounded-full bg-blue-500 border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#3b82f6"
                                title="Azul"
                            ></button>
                            <button
                                class="w-5 h-5 rounded-full bg-green-500 border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#10b981"
                                title="Verde"
                            ></button>
                            <button
                                class="w-5 h-5 rounded-full bg-yellow-400 border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#facc15"
                                title="Amarillo"
                            ></button>
                            <button
                                class="w-5 h-5 rounded-full bg-purple-500 border border-gray-300 hover:border-indigo-600 transition-colors"
                                data-color="#8b5cf6"
                                title="Morado"
                            ></button>
                        </div>
                    </div>

                    <!-- Panel de herramientas minimalista -->
                    <div class="flex justify-center gap-2">
                        <!-- Lápiz -->
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-700 hover:bg-indigo-600 text-white transition-colors"
                            id="pencil-tool"
                            title="Lápiz"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                            </svg>
                        </button>

                        <!-- Borrador -->
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-700 hover:bg-indigo-600 text-white transition-colors"
                            id="eraser-tool"
                            title="Borrador"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path d="M20 20H7L3 16c-1.5-1.5-1.5-3.5 0-5l7-7c1.5-1.5 3.5-1.5 5 0l5 5c1.5 1.5 1.5 3.5 0 5l-4 4" />
                                <path d="M6 11l5 5" />
                            </svg>
                        </button>

                        <!-- Limpiar -->
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-700 hover:bg-indigo-600 text-white transition-colors"
                            id="clear-canvas"
                            title="Limpiar todo"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path d="M3 6h18" />
                                <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6" />
                                <path d="M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2" />
                                <line x1="10" y1="11" x2="10" y2="17" />
                                <line x1="14" y1="11" x2="14" y2="17" />
                            </svg>
                        </button>

                        <!-- Guardar -->
                        <button
                            class="w-10 h-10 flex items-center justify-center rounded-full bg-indigo-700 hover:bg-indigo-600 text-white transition-colors"
                            id="save-canvas"
                            title="Guardar dibujo"
                        >
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="h-5 w-5"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" />
                                <polyline points="17 21 17 13 7 13 7 21" />
                                <polyline points="7 3 7 8 15 8" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>
        <!-- Carrusel de dibujos guardados -->
        <section class="py-4" style="background-color: #ede9cc;">
            <h3 class="text-xl font-bold text-center mb-4">Tus dibujos guardados</h3>
            <div id="drawing-carousel" class="flex overflow-x-auto space-x-4 px-4">
                <!-- Aquí se mostrarán los dibujos guardados en localStorage -->
                <div id="no-drawings" class="flex flex-col items-center justify-center w-full text-gray-500">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-12 w-12 mb-2"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        stroke-width="2"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                    </svg>
                    <span>No hay dibujos guardados aún</span>
                </div>
            </div>
            <!-- Agregar controles del carrusel aquí -->
            <div id="drawing-carousel-controls" class="flex justify-center items-center space-x-4 mt-2"></div>
        </section>

        <!-- Galería de dibujos del pizarrón comunitario -->
        <section class="py-4" style="background-color: #ede9cc;">
          <h3 class="text-xl font-bold text-center mb-4">Pizarrón de la comunidad</h3>
          <div id="drawingsGallery" class="grid grid-cols-2 md:grid-cols-4 gap-4 px-4"></div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="js/main.js" type="module"></script>
    <script src="js/drawing-canvas.js" type="module"></script>
    <script src="js/drawing-carousel.js" type="module"></script>
    <script src="js/header-stickers-simple.js"></script>
    <script src="js/menu.js"></script>
    <script>
  // Cargar dibujos desde la API
  function loadDrawings() {
    fetch('https://centro.juanfuent.es/api/draws')
      .then(response => response.json())
      .then(draws => {
        const gallery = document.getElementById('drawingsGallery');
        gallery.innerHTML = ''; // Limpiar dibujos existentes

        draws.forEach(draw => {
          const drawingElement = document.createElement('div');
          drawingElement.className = "bg-white rounded-lg shadow p-2 flex items-center justify-center";
          drawingElement.innerHTML = `<img src="${draw.image_url}" alt="Drawing ${draw.id}" class="w-full h-auto rounded">`;
          gallery.appendChild(drawingElement);
        });
      })
      .catch(error => {
        console.error('Error:', error);
        alert('Error al cargar los dibujos');
      });
  }


  // Llama a loadDrawings al cargar la página
  document.addEventListener('DOMContentLoaded', loadDrawings);

  // Conecta el botón de guardar con saveDraw
  document.getElementById('save-canvas').addEventListener('click', saveDraw);
</script>
</body>
</html>
